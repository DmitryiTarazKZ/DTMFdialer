<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0">
    <meta name="description" content="">
    <title>Help</title>

    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class="wrapper">

        <p>Это специально разработанное приложение предназначено
            для работы в составе радиомоста состоящего из <a href="https://www.baofengradio.co.uk/upgraded-baofeng-uv-82-iii-tri-band-uhf-vhf-walkie-talkie-two-way-ham-radio-speaker-mic/">трех+ радиостанций
            BAOFENG UV-82R</a> и смартфона <a href="https://riva.kz/product/smartfon-samsung-galaxy-a21s-32gb-black-sm-a217f">Samsung Galaxy A21s</a>
        </p>
        <p>Данный радимост позволяет организовать голосовую связь в
            местах в которых сотовая сеть полностью отсутствует, из-за естественных преград.
            Это могут быть ущелья гор, пески, и различные низины в которых нет прямой
            видимости на ближайщий населенный пункт в котором есть вышка сотовой связи. В
            конструкции этого радиомоста обычная носимая радиостанция выполняет функции
            телефона с кнопочным набором номера.
        </p>
        <p>
            <a href="file:///android_asset/help/instruction.docx" title="DOC документ">Скачать
                инструкцию по использованию для печати</a>
        </p>
        <p>Принцип работы двухканального репитера: при ВХОДЯЩЕМ
            ВЫЗОВЕ на время вызова запускается програмный DTMF анализ и включается вспышка смартфона которая посредством
            порогового датчика света, включает на передачу радиостанцию <span class="red">В (ПЕРЕДАЮЩАЯ)</span>
            которая на частоте 433.075 мгц транслирует речевое сообщение о входящем вызове на радиостанцию <span class="blue">
            А(АБОНЕНТСКАЯ) </span>и если на радиостанции <span class="blue">А (АБОНЕНТСКАЯ)</span>
            нажать комбинацию PTT(B)+(*) то на частоте 159.775 мгц транслируется DTMF тон клавиши (*), который принимается
            радиостанцией <span class="green">С (ПРИЕМНАЯ)</span> а затем подается на аудиовход смартфона, в котором с
            помошью данного приложения и<a href="https://proglib.io/p/fourier-transform"> алгоритма преобразования Фурье</a>,
            распознается как команда принять входящий вызов. Нажатие комбинации PTT(B)+(#) пока трубка еще не поднята
            отклоняет вызов. Также принять входяший вызов можно комбинацией PTT(B)+(C) в этом случае аппаратный DTMF декодр
            "нажимает" центральную клавишу на гарнитуре смарфона. Повторное нажатие комбинации PTT(B)+(C) при поднятой
            трубке приведет к завершению вызова.

        </p>
        <p>Для выполнения ИСХОДЯЩЕГО ВЫЗОВА на радиостанци <span class="blue">А (АБОНЕНТСКАЯ)</span> необходимо нажать комбинацию
            PTT(B)+(C), на частоте 159.775 мгц будет транслироваться DTMF тон клавищи (C), который принимается радиостанцией
            <span class="green">С (ПРИЕМНАЯ)</span> и через аппаратный DTMF декодр "нажимает" центральную кнопку
            на гарнитуре смартфона, это действие приводит к запуску таймера и включению подсветки, благодаря которой рация
            <span class="red">В (ПЕРЕДАЮЩАЯ) </span>включается на передачу. Затем при удерживании клавишы передачи
            PTT(B) и нажимания клавиш набора номера на частоте 159.775 мгц транслируются тона набираемых цифр,
            которые принимаются радиостанцией<span class="green"> С (ПРИЕМНАЯ)</span> и затем через разьем
            гарнитуры подаются на аудиовход смартфона, в котором с помошью данного приложения и
            <a href="https://www.youtube.com/watch?v=spUNpyF58BY">алгоритма преобразования Фурье</a>, распознаются
            и преобразуются в соответствующую цифру или символ. Затем цифры обьединяются в номер абонента, и по
            распознаванию символа (*) выполняется вызов. Нажатие комбинации PTT(B)+(C) отклоняет или завершает вызов.
            При этом нажатие комбинации PTT(B)+(#) служит для очистки поля набора номера.
        </p>

        <p>
            <span class="blue">
            ПЛЮСЫ РЕЖИМА: наилучшее качество связи, отсутствие задержек в процессе беседы, полноценный прием, отклонение и завершение вызова.<br>
            МИНУСЫ РЕЖИМА: требуется две радиостанции, две антенны и DTMF декодер. Из-за низкой избирательности раций BAOFENG UV-82R невозможна работа
            в пределах одного диапазона, так как передающая радиостанция своим полем полностью подавляет приемную (даже если установить разнос в
            10-20 МГц). Из-за этого требуется использование разных диапазонов для частот приема и передачи (159.775 МГц и 433.075 МГц).
            Соответственно, на больших расстояниях, из-за особенностей прохождения радиоволн, появляется значительная разница в дальности действия
            приемного и передающего канала. В любом случае потребуется разнос антенн для исключения взаимного влияния.<br>
            Старт таймера и DTMF распознавания с помощью аппаратного DTMF декодера усложняет схему и увеличивает вероятность отказа всей системы, так
            как декодер подвержен влиянию ВЧ-полей (требуется экранирование) и может плохо переносить сильные перепады температуры.<br>
            При использовании профессиональных автомобильных радиостанций с высокой избирательностью и супергетеродинным приемником должна получиться
            работа в пределах одного диапазона. Соответственно, на стороне абонента также может быть применена автомобильная радиостанция, что
            позволит увеличить дальность связи до 50-100 км по прямой видимости.<br><br>
            ВАЖНО! Если смартфон не блокирует доступ к микрофону во время активной беседы, то в настройках режима нужно выбрать режим Репитер (2 Канала+)
            При этом програмный DTMF анализ будет вестись непрерывно, изменится логика работы вспышки и во время активной беседы можно станет возможным
            добор номера (это может быть заделом для селективного вызова нужной радиостанции по автоподьему трубки и добору номера конкретной радиостанции
            которая в дальнейшем откликнется на свой уникальный набор тональностей). При этом аппаратная часть репитера упрощается, и необходимость в
            аппаратном DTMF декодере отпадает. Также освобождается клавиша быстрого набора С. и появляется возможность завершить вызов более логично не
            через декодер комбинацией PTT+(C) а просто комбинацией PTT+(#)<br>
            </span>
        </p>

        <p>Принципиальная схема устройства для режима Репитер 2 канальный:</p>
        <img src="1.jpg" width="100%" />
        <p><a href="file:///android_asset/help/repiter2.spl7" title="OpenSourse">Cкачать
        схему двухканального репитера для sPlan 7.0</a><br>
        <p>Устройсто двухканального репитера в сборе:</p>
        <img src="2.jpg" width="100%" /><br><br>
        <p>Принцип работы одноканального репитера: (Описание для смартфона не блокирующего микрофон во время активной беседы. Изначально
            програмный DTMF анализ запущен и ведется непрерывно. При ВХОДЯЩЕМ ВЫЗОВЕ на время произнесения речевого сообщения о входящем
            вызове включается вспышка смартфона которая посредством порогового датчика света, включает на передачу
            <span class="red">РАДИОСТАНЦИЮ РЕПИТЕРА</span> которая на любой выбранной частоте в данном случае на 434.075 мгц транслирует
            сообщение на <span class="blue">РАДИОСТАНЦИЮ АБОНЕНТА.</span> Переодически между сообщениями появляется временной промежуток
            (в этот промежуток вспышка отключается и радиостанция репитера снова встает в режим приема) позволяющий принять или отклонить
            вызов и если на <span class="blue">РАДИОСТАНЦИИ АБОНЕНТА</span> нажать комбинацию PTT(B)+(*) то на частоте 433.075 мгц
            транслируется DTMF тон клавиши (*), который принимается <span class="red">РАДИОСТАНЦИЕЙ РЕПИТЕРА</span> а затем подается на
            аудиовход смартфона, в котором с помошью данного приложения  и<a href="https://proglib.io/p/fourier-transform"> алгоритма
            пре образования Фурье</a>, распознается как команда принять входящий вызов. Нажатие комбинации PTT(B)+(#) отклоняет или
            завершает вызов<br>
        </p>
        <p>Для выполнения ИСХОДЯЩЕГО ВЫЗОВА на радиостанци <span class="blue">АБОНЕНТСКАЯ</span> необходимо удерживая клавишу передачи
            PTT(B) нажимать сооответствующие клавишы набора номера при этом на частоте 433.075 мгц будут транслируются тона набираемых цифр,
            которые принимаются радиостанцией <span class="red">РАДИОСТАНЦИЕЙ РЕПИТЕРА</span> и затем через разьем гарнитуры подаются на
            аудиовход смартфона, в котором с помошью данного приложения и<a href="https://www.youtube.com/watch?v=spUNpyF58BY">алгоритма
            преобразования Фурье</a>, распознаются и преобразуются в соответствующую цифру или символ. Затем цифры обьединяются в номер
            абонента, и по распознаванию команде PTT(B)+(*) выполняется вызов. При этом нажатие комбинации PTT(B)+(#) служит для очистки
            поля набора номера. Нажатие комбинации PTT(B)+(#) при поднятой трубке приведет к завершению вызова. Во время беседы (а также
            при всех речевых сообщениях) в работу включается электронная VOX система которая на время разговора любого абонента включает
            вспышку а та в свою очередь через пороговый датчик света и схему блокировки по несущей включает <span class="red">РАДИОСТАНЦИЮ
            РЕПИТЕРА</span> на передачу. (схема блокировки необходима чтобы не допустить включения радиостанции на передачу от собственного
            звука так как вспышка смарфона при выбранном источнике звука MIC будет включатся от речи обоих абонентов, поэтому при появлении
            несущей открывается шумоподавитель и на аудиовыходе появляется небольшой потенциал достаточный для срабатывания схемы блокировки)
        </p>

        <p>
            <span class="blue">
                ПЛЮСЫ РЕЖИМА использование одной радиостанции и одной антенны, одинаковая дальность на прием и на передачу так как используется всего один канал связи<br>
                МИНУСЫ РЕЖИМА Спецефические неудобства из-за програмной VOX системы создающей небольшие задержки в процессе разговора, требуется
                говорить по очереди со значительными паузами чтобы VOX успевал включаться и отключаться<br>
            </span>
        </p>

        <p>Блок схема устройства для режима Репитер 1 канальный:</p>
        <img src="1a.jpg" width="100%" />
        <p><a href="file:///android_asset/help/repite1.spl7" title="OpenSourse">Cкачать
            схему одноканального репитера для sPlan 7.0</a><br>

        <p>Описание и назначение опций главного экрана:</p>
        <img src="3.jpg" width="100%" />
        <p>Расстояние на которое работает данное устройство
            складывается из двух расстояний: ПЕРВОЕ это растояние от точки базовой станции
            до места увереного приема сотовой сети и на этом месте устанавливается
            радиомост, обычно это возвышенность с которой есть прямая видимость на вышку
            сотовой связи и есть более меннее прямая видимость на то место которое
            необходимо обеспечить связью и ВТОРОГО расстояния: зоны действия радиостанций
        </p>
        <p>Этот радиомост разрабатывался для фазенды
            расположенной в горном ущелье, схема приведена на карте:
            с помощью приложения Google Еarth и ее функции показать профиль рельефа, можно видеть
            что прямая видимость перегорожена выступающей горой
        </p>

        <img src="4.png" width="100%" />

        <p>Схема расположения на местности:
            можно видеть что с места где расположен радиомост есть прямая
            видимость как на вышку так и на фазенду
        </p>

        <img src="5.png" width="100%" /><br><br>

        <p><span class="blue">Методика расчета и выбора точки установки репитера с помощью приложения Планета Земля:<br>
        1 протягивается линия от точки уверенного приема сотовой сети (назовем ее А) до точки которое необходимо обеспечить связью (назовем ее С) (сохраняем)<br>
        2 нажимая на эту линию в левом окне правой кнопкой мыши выбираем пункт "Показать профиль рельефа"<br>
        3 смотрим что именно загораживает прямую видимость, допустим это гора или выступающий холм (замечаем это место назовем точка В)<br>
        4 не закрывая окно с профилем рельефа нажимаем правой кнопкой мыши на линии м выбираем "Свойства"<br>
        (теперь один из концов линии (там где С) мы можем перемещать одновременно просматривая как меняется профиль рельефа)<br>
        5 уставливаем конец линии в точку "В" (точка перегиба) и продолжаем тянуть линию до точки (С) (устанавливаем)<br>
        6 Возвращаемся к точке B и перемещаем ее в наиболее выгодное место смотря на график "Профиль рельефа"<br>
        (Чтобы с точки В была прямая видимость на точку А и точку С а график перегиба был по возможности острее)<br>
        7 в этой точке В устанавливается репитер (также учиваются условия доступности для обслуживания например в зимнее время)</span>
        </p>

        <p>Выбор подходящего
            смартфона: версия андроид системы должна быть не
            ниже 6.0. желательно использовать более старые
            оригинальные неубиваемые смартфоны. Обязательно должна быть
            работоспособная вспышка. Разьем гарнитуры
            должен быть абсолютно исправен: В конструкции
            использовалась трехкнопочная гарнитура с центральной
            клавишей, клавишей + и клавишей -. При исправности
            гарнитуры и разьема и нажимании соответствующих
            клавиш поле иконки гарнитуры окрашивается в следующие цвета.
            - синим + красным и центральная зеленым.
            Тест смартфона заключается в подключении гарнитуры и нажатии
            на ней центральной кнопки при этом иконка гарнитуры должна
            окраситься в зеленый цвет а иконка вспышки в красный
            а сама вспышка должна включится на время таймера.
            Для одноканального репитера нужен смартфон не блокирующий
            микрофон во время беседы (это позволяет отказаться от аппаратного
            DTMF модуля и позволяет задействовать програмную VOX систему)
            для проверки надо позвонить на этот смартфон с предварительно
            установленым приложением и поднять трубку если в окне спектрометра
            виден график звуковых волн значит микрофон не блокируется и смартфон
            подходит для режима репитер одноканальный. Также не маловажно
            проверить звучание в подключенных наушниках что бы оно было чистым
            иначе потом в рации будет глухое звучание
        </p>
        <p>Настройки радиостанций
            Baofeng ub82r для режима репитер двухканальный: ключевые настройки выделены красным
            цветом<br>
            <a href="file:///android_asset/help/baofeng_uv-82.pdf" title="PDF документ">Скачать
                руководство
                пользователя</a><br>
            <a href="file:///android_asset/help/Baofeng--UV-5R-Schematic.pdf" title="PDF документ">Скачать
                схему
                радиостанции</a><br>
        </p>
        <p>Радиостанция
            <span class="blue">А (АБОНЕНТСКАЯ)</span>
            работает в двухканальном режиме (1 канал
            433.075мгц 2 канал 159.775мгц) так как она
            принимает звук с радиостанции С и передает
            звук а также DTMF тональности на
            радиостанцию В
        </p>
        <p>ее настройки:
            (0) SQL 5 (1) STEP 2.5K (2) TXP HIGT (3)
            SAVE OFF (4) VOX OFF (5) WN WIDE (6) ABR
            10 <span class="red">(7) TDR ON</span>
            (8) BEEP ON (9) <span class="red">TOT
                600</span>
            (10) R-DCS OFF <span class="red">(11)
                R-CTCS 123.0Hz</span>
            (12) T-DCS OFF <span class="red">(13)
                T-CTCS 123.0Hz</span>
            (14) VOICE OFF (15) ANI-ID 80808 <span class="red">(16)
                DTMFST DT-ST</span>
            (17) S-CODE 1 (18) SC-REV TO (19) PTT-ID
            OFF (20) PTT-LT 5 (21) MDF-A FREQ (22)
            MDF-B FREQ (23) BCL OFF (24) AUTOLK OFF
            (25) SFT-D OFF (26) OFFSET 000.000 <span class="red">(27)
                MEM-CH CH-001
                (433.075мгц) MEM-CH CH-002 (159.775мгц)</span>
            (28) DEL-CH CH-002 (29) WT-LED PURPLE
            (30) RX-LED BLUE (31) TX-LED ORANGE (32)
            AL-MOD TONE (33) BAND VFN (34) TDR-AB
            OFF (35) STE ON (36) PR-STE 5 (37)
            PRT-RL OFF (38) PONMGS FULL (39) ROGER
            OFF (40) RESET ALL (41) R-TONE 1750hz
        </p>
        <p>Радиостанция
            <span class="red">В (ПЕРЕДАЮЩАЯ)</span>
            работает в однокональном режиме (канал 1
            частота 433.075мгц) она включается на
            передачу от подсветки или вспышки
            смартфона при входящем вызове а также
            при поступлении на смартфон DTMF команд
            (частота 433.075 выбрана так как она
            лучше работает в горной местности и даже
            если абонент находится далеко от фазенды
            он хотя бы сможет услышать что ему
            звонят)
        </p>
        <p>ее настройки:
            (0) SQL 5 (1) STEP 2.5K (2) TXP HIGT (3)
            SAVE OFF (4) VOX OFF (5) WN WIDE (6) ABR
            10 (7) TDR ON (8) BEEP ON (9) <span class="red">TOT
                600</span>
            (10) R-DCS OFF <span class="red">(11)
                R-CTCS 123.0Hz</span>
            (12) T-DCS OFF <span class="red">(13)
                T-CTCS 123.0Hz</span>
            (14) VOICE OFF (15) ANI-ID 80808 (16)
            DTMFST OFF (17) S-CODE 1 (18) SC-REV TO
            (19) PTT-ID OFF (20) PTT-LT 5 (21) MDF-A
            FREQ (22) MDF-B FREQ (23) BCL OFF (24)
            AUTOLK OFF (25) SFT-D OFF (26) OFFSET
            000.000 <span class="red">(27) MEM-CH
                CH-001 (433.075мгц)</span>
            (28) DEL-CH CH-002 (29) WT-LED PURPLE
            (30) RX-LED BLUE (31) TX-LED ORANGE (32)
            AL-MOD TONE (33) BAND VFN (34) TDR-AB
            OFF (35) STE ON (36) PR-STE 5 (37)
            PRT-RL OFF (38) PONMGS FULL (39)
                ROGER OFF
            (40) RESET ALL (41) R-TONE 1750hz
        </p>
        <p>Радиостанция
            <span class="green">С (ПРИЕМНАЯ) </span>
            работает в одноканальном режиме (канал 2
            частота 159.775мгц) она постоянно
            находится в режиме приема и ожидает DTMF
            команды
            ее настройки: (0) SQL 5 (1) STEP 2.5K
            (2) TXP HIGT (3) SAVE OFF (4) VOX OFF
            (5) WN WIDE (6) ABR 10 (7) TDR ON (8)
            BEEP ON (9) <span class="red">TOT
                600</span>
            (10) R-DCS OFF <span class="red">(11)
                R-CTCS 123.0Hz</span>
            (12) T-DCS OFF <span class="red">(13)
                T-CTCS 123.0Hz</span>
            (14) VOICE OFF (15) ANI-ID 80808 (16)
            DTMFST OFF (17) S-CODE 1 (18) SC-REV TO
            (19) PTT-ID OFF (20) PTT-LT 5 (21) MDF-A
            FREQ (22) MDF-B FREQ (23) BCL OFF (24)
            AUTOLK OFF (25) SFT-D OFF (26) OFFSET
            000.000 <span class="red">(27) MEM-CH
                CH-002 (159.775мгц)</span>
            (28) DEL-CH CH-002 (29) WT-LED PURPLE
            (30) RX-LED BLUE (31) TX-LED ORANGE (32)
            AL-MOD TONE (33) BAND VFN (34) TDR-AB
            OFF (35) STE ON (36) PR-STE 5 (37)
            PRT-RL OFF (38) PONMGS FULL (39) ROGER
            OFF (40) RESET ALL (41) R-TONE 1750hz
        </p>
        <p><span class="red">Вимание! При
                закрытие каналов субтонами возможно искажение DTMF команд,
                субтона закрывают канал от прослушивания но могут делаеть DTMF
                срабатывание менее устойчивым, если это становится критично то
                лучше выбирать субтона более высокой частоты, либо оставить
                каналы открытыми.</span>
        </p>
        <p>
            Коды удаленного управления с радиостанции:<br><br>
            <span class="blue">0(*)</span> Пропущенный вызов<br>
            <span class="blue">1(*)</span> Состояние акамулятора<br>
            <span class="blue">2(*)</span> Текущее время и дата<br>
            <span class="blue">3(*)</span> Уровень сети последней активной СИМ<br>
            <span class="blue">4(*)</span> Перезагрузка радиомодуля<br>
            <span class="blue">5(*)</span> Будильник<br>
            <span class="blue">6(*)</span> Барометр<br>
            <span class="blue">7(*)</span> Голосовые команды<br>
            <span class="blue">8(*)</span> Очистить номера быстрого набора<br>
            <span class="blue">9(*)</span> Озвучивание on/off<br><br>
            При исходящем звонке после нажатия (*):<br>
            <span class="blue">1</span> выполнить вызов с первой сим карты<br>
            <span class="blue">2</span> выполнить вызов со второй сим карты<br>
        </p>

        <p>
         <span class="blue">
                Режим СУПЕРТЕЛЕФОН: предназначен для оперативного развертывания связи, например при ЧС: Для этого
                необходим минимум оборудования: один смартфон, одна радиостанция и специальный аудиокабель, (подключение
                кабеля определится автоматически) можно обойтись и без кабеля при этом достаточно закрепить смартфон
                на радиостанции, соорентировав динамик смартфона к микрофону радиостанции. Во время этого режима смартфон
                и радиостанция будут работать от собственных батареек, в приложении будет вестись непрерывный dtmf анализ,
                вспышка и экран будут отключены, динамик при вызове автоматически включен, а рация будет ставится на передачу
                от системы VOX (VOX должна работать очень стабильно и качественно иначе это отразится на качестве слышимости).
                Для Запуска/Остановки режима нужно нажать на иконку гарнитуры. При удержания комбинации PTT+F (41 пункт в
                настройках рации выставлен на 1750гц и в настройках приложения включена "Сигнальная вспышка") включится вспышка
                что может быть полезно для обнаружения устройства в ночное время. Ограничения накладываемые этим режимом: Прием
                входящего вызова спецефический: средствами ТТС произносится имя звонящего и предложение принять или отклонить
                вызов затем наступает тишина, в течении которой нужно нажать PTT(B)+(*) или PTT(B)+(#). Сообщение ТТС будет повторятся до тех пор,
                пока вызов не будет принят или отклонен, или звонящий не положит трубку. Собеседники должны говорить по очереди
                и не торопясь, делая значительные паузы чтобы VOX радиостанции успевал включаться и отключаться. Требуется
                подбор уровня громкости радиостанции чтобы не перегружать микрофон смартфона (громкость аудио
                смартфона можно регулировать комбинациями PTT+(А) добавление и PTT+(B) уменьшение). Со стороны рации когда
                соеденение установлено не возможно положить трубку так как микрофон смартфона занят и дтмф анализ отключается
                (но если смарфон не блокирует доступ к микрофону во время беседы то тогда трубку можно положить комбинацией PTT+#)
                Работа режима будет сильно зависеть от работы VOX системы радиостанции, если применить специальный кабель то можно
                улучшить слышимость
         </span>
        </p>

        <p>
            Если планируется использовать на стороне удаленного абонента больше одной
            радиостанции, например нужно обеспечить связью несколько фазенд
            находящихся на удалении друг от друга. Для этого потребуется на всех
            радиостанциях лишь настроить частоты каналов, при этом каждый сможет звонить
            в сотовую сеть, но минусом данного подхода является то, что все будут слышать
            друг друга, и у всех будет возможность конференц связи друг с другом
            (этот подход может быть хорош при коллективных походах в горы когда такой
            режим становится желательным). Для селективного вызова каждой отдельной
            радиостанции потребуется доработать схему самого репитера и соответсвенно
            доработать приложение
        </p>

        <p><span class="red">Вимание! При работе данного приложения в режиме "Репитер (2 Канала)"
            экран принудительно удерживается постоянно включенным, это необходимо для
            отслеживания нажатия центральной кнопки гарнитуры, поэтому, для экономии
            установите минимальную яркость. В режиме "Супертелефон" экран отключится
            по системным настройкам таймаута экрана</span>
        </p>

        <p><a href="https://github.com/DmitryiTarazKZ/dtmf-dialer" title="OpenSourse">Исходный код проекта для AndroidStudio
            находится по этой ссылке (Gmail для связи dimon82r@gmail.com, телеграмм 87057895564) доработка приложения велась
        при использовании ИИ https://gpt-open.ru/programmist и приложения Cursor</a>
        </p>


    </div>
</body>

</html>